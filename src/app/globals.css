@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html,
  body {
    height: 100%;
    margin: 0;
    padding: 0;
  }

  html.lenis {
    height: auto;
  }

  .lenis.lenis-smooth {
    scroll-behavior: auto;
  }

  .lenis.lenis-smooth [data-lenis-prevent] {
    overscroll-behavior: contain;
  }

  .lenis.lenis-stopped {
    overflow: hidden;
  }

  .lenis.lenis-scrolling iframe {
    pointer-events: none;
  }
}

/* Parallax and Animation Utilities */
@keyframes floatingElement {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-15px); }
  100% { transform: translateY(0px); }
}

@keyframes typewriter {
  from { width: 0; }
  to { width: 100%; }
}

@keyframes blinkCursor {
  from { border-right-color: rgba(255,255,255,.75); }
  to { border-right-color: transparent; }
}

@keyframes gradient {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.floating {
  animation: floatingElement 3s ease-in-out infinite;
}

.typewriter {
  overflow: hidden;
  border-right: 2px solid;
  white-space: nowrap;
  animation: 
    typewriter 2s steps(40, end),
    blinkCursor .75s step-end infinite;
}

.animated-gradient {
  background: linear-gradient(270deg, #1d4ed8, #3b82f6, #60a5fa);
  background-size: 200% 200%;
  animation: gradient 6s ease infinite;
}

.parallax-container {
  perspective: 1000px;
  overflow: hidden;
}

.parallax-element {
  will-change: transform;
  transition: transform 0.1s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fadeIn 1s ease-out;
}

html {
  scroll-behavior: smooth;
  scroll-padding-top: 4.5rem;
}

section {
    section .reveal {
      opacity: 0;
      transform: translateY(18px) scale(0.995);
      transition: opacity 600ms cubic-bezier(.2,.8,.2,1) var(--delay, 0s),
                  transform 600ms cubic-bezier(.2,.8,.2,1) var(--delay, 0s),
                  filter 600ms cubic-bezier(.2,.8,.2,1) var(--delay, 0s);
      will-change: opacity, transform;
    }

    section.in-view .reveal {
      opacity: 1;
      transform: none;
    }

    /* Slight variation for images */
    section .reveal-img {
      opacity: 0;
      transform: scale(0.98) translateY(10px);
      transition: opacity 700ms cubic-bezier(.2,.8,.2,1) var(--delay, 0s), transform 700ms cubic-bezier(.2,.8,.2,1) var(--delay, 0s);
    }
    section.in-view .reveal-img {
      opacity: 1;
      transform: none;
    }

  scroll-snap-align: start;
  scroll-margin-top: 4.5rem;
}

@layer utilities {
  .scroll-snap-y {
    scroll-snap-type: y mandatory;
    height: 100vh;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
}

/* Dark mode base overrides (minimal, supplement Tailwind dark: variants) */
.dark body {
  /* darker background gradient for dark mode */
  background: linear-gradient(135deg, #000000 0%, #0a0a0a 100%);
  color: #ffffff;
}

.dark nav {
  background-color: rgba(0,0,0,0.85) !important;
  border-color: rgba(255,255,255,0.1) !important;
  color: #ffffff;
}

/* Slightly darken the translucent white cards used across the site */
.dark .bg-white\/60 {
  background-color: rgba(255,255,255,0.05) !important;
}

/* Improve text contrast in dark mode for common Tailwind text color utilities */
.dark .text-slate-900 {
  color: #ffffff !important;
}
.dark .text-slate-700 {
  color: #e2e8f0 !important; /* paragraphs, smaller text */
}
.dark .text-slate-600 {
  color: #cbd5e1 !important; /* muted text */
}
.dark .text-sky-600,
.dark .text-blue-600 {
  color: #60a5fa !important; /* links / highlights */
}

/* Borders and shadows tuned for dark background */
.dark .border-slate-200 {
  border-color: rgba(255,255,255,0.15) !important;
}
.dark .shadow-lg {
  box-shadow: 0 10px 15px -3px rgba(0,0,0,0.8), 0 4px 6px -4px rgba(0,0,0,0.8) !important;
}

/* Buttons and interactive elements */
.dark button,
.dark a {
  color: inherit;
}

/* Additional dark mode improvements for better contrast */
.dark .text-slate-800 {
  color: #f8fafc !important;
}
.dark .text-slate-500 {
  color: #94a3b8 !important;
}
.dark .text-gray-700 {
  color: #e2e8f0 !important;
}
.dark .text-gray-600 {
  color: #cbd5e1 !important;
}
.dark .text-gray-500 {
  color: #94a3b8 !important;
}